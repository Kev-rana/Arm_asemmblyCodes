	AREA LAB, CODE, READONLY
PINSEL1 EQU 0XE002C004
AD0CR   EQU 0XE0034000
AD0GDR  EQU 0XE0034004
	; SOFTWARE MODE ie BURST = 0
	LDR R1, =PINSEL1
	; ACTIVATE AD0.1 AT P0.28, AD0.2 AT P0.29, AD0.3 AT P0.30
	LDR R2, =0X15000000
	STR R2, [R1]
	LDR R1, =AD0CR		; ADDRESS OF AD0 CONTROL REG
	; 1-> START CONVERSION,2->MAKE CONVERTER OPERATIONAL FROM POWER DOWN MODE
	; 1-> SET CLK/DIV , 2-> SELECT CHANNEL 1
	
	; AD0.1
	LDR R2, =0X01200102	
	STR R2, [R1]
L	LDR R3, =AD0GDR		; ADDRESS OF AD0 GLOBAL DATA REG
	LDR R4, [R3]
	LDR R1, =0X80000000
	AND R1, R4			; ie R1 = R1 & R4 BITWISE
	LDR R5, =0X80000000
	CMP R1, R5
	BNE L
	LDR R4, [R3]
	LDR R1, =0X0000FFC0
	AND R7, R1, R4
	LSR R8, R7, #6		; LOGICAL SHIFT RIGHT 6 TIMES
	
	; AD0.2
	LDR R1, =AD0CR		; ADDRESS OF AD0 CONTROL REG
	LDR R2, =0X01200104	
	; 1-> START CONVERSION,2->MAKE CONVERTER OPERATIONAL FROM POWER DOWN MODE
	; 1-> SET CLK/DIV , 4-> SELECT CHANNEL 1
	STR R2, [R1]
LP	LDR R3, =AD0GDR		; ADDRESS OF AD0 GLOBAL REG
	LDR R4, [R3]
	LDR R1,  =0X80000000
	AND R1, R4
	LDR R5, =0X80000000
	CMP R1, R5
	BNE LP
	LDR R4, [R3]
	LDR R1, =0X0000FFC0
	AND R7, R1, R4
	LSR R9, R7, #6		; LOGICAL SHIFT RIGHT
	
	; AD0.3
	LDR R1, =AD0CR		;ADDRESS OF AD0 CONTROL REG
	LDR R2, =0X01200108	
	; 1-> START CONVERSION,2->MAKE CONVERTER OPERATIONAL FROM POWER DOWN MODE
	; 1-> SET CLK/DIV , 8-> SELECT CHANNEL 3
	STR R2, [R1]
LA	LDR R3, =AD0GDR		; ADDRESS OF AD0 GLOBAL DATA REG
	LDR R4, [R3]
	LDR R1, =0X80000000
	AND R1, R4
	LDR R5, =0X80000000
	CMP R1, R5
	BNE LA
	LDR R4, [R3]
	LDR R1, =0X0000FFC0
	AND R7, R1, R4
	LSR R10, R7, #6		; LOGICAL SHIFT RIGHT
	
L1	B L1
	END
	
	 
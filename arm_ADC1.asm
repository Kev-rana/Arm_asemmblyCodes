	AREA LAB, CODE, READONLY
PINSEL1 EQU 0XE002C004
AD0CR   EQU 0XE0034000
AD0DR1  EQU 0XE0034014
AD0DR2  EQU 0XE0034018
AD0DR3  EQU 0XE003401C	
AD0GDR  EQU 0XE0034004	
	
	; HARDWARE MODE ie BURST = 1
	LDR R1, =PINSEL1
	; ACTIVATE AD0.1 AT P0.28, AD0.2 AT P0.29, AD0.3 AT P0.30
	LDR R2, =0X15000000
	STR R2, [R1]
	LDR R1, =AD0CR		; ADDRESS OF AD0 CONTROL REG
	; 1-> START CONVERSION,2->MAKE CONVERTER OPERATIONAL FROM POWER DOWN MODE
	; 1-> SET CLK/DIV , E-> SELECT CHANNEL 1,2,3
	LDR R2, =0X0021010E	

	STR R2, [R1]
L	LDR R3, =AD0DR1		; ADDRESS OF AD0 DATA REG1
	LDR R4, [R3]
	LDR R1, =0X80000000
	AND R1, R4			; ie R1 = R1 & R4 BITWISE
	LDR R5, =0X80000000
	CMP R1, R5
	BNE L
	LDR R4, [R3]
	LDR R1, =0X0000FFC0
	AND R7, R1, R4
	LSR R8, R7, #6		; LOGICAL SHIFT RIGHT 6 TIMES
	LDR R11, =0X40000000	
	STR R8, [R11]

LP	LDR R3, =AD0DR2		; ADDRESS OF AD0 REG2
	LDR R4, [R3]
	LDR R1,  =0X80000000
	AND R1, R4
	LDR R5, =0X80000000
	CMP R1, R5
	BNE LP
	LDR R4, [R3]
	LDR R1, =0X0000FFC0
	AND R7, R1, R4
	LSR R9, R7, #6		; LOGICAL SHIFT RIGHT
	LDR R11, =0X40000004	
	STR R9, [R11]

LA	LDR R3, =AD0DR3		; ADDRESS OF AD0 DATA REG3
	LDR R4, [R3]
	LDR R1, =0X80000000
	AND R1, R4
	LDR R5, =0X80000000
	CMP R1, R5
	BNE LA
	LDR R4, [R3]
	LDR R1, =0X0000FFC0
	AND R7, R1, R4
	LSR R10, R7, #6		; LOGICAL SHIFT RIGHT
	LDR R11, =0X40000008
	STR R10, [R11]
	
L1	B L1
	END
	
	 